# 第五次作业

### 班级：自动化64

### 姓名：张晟

### 学号：2160504107

### 日期：2019/4/2



### 摘要

本次作业主要考察从频域的角度处理图片。分别使用巴特沃斯，高斯滤波器实现高通，低通滤波器对图像进行处理，并分析处理结果，总结优缺点。



### 第一题

#### 题目重述

频域低通滤波器：设计低通滤波器包括 butterworth and Gaussian (选择合适的半径，计算功率谱比),平滑测试图像test1和2;分析各自优缺点；

#### 思路

在频域滤波的基本步骤为：

- 对于一幅灰度图像f(x,y)，设其尺寸为M×N。则通常取P=2M，Q=2N。对于f(x,y)添加适当的0形成尺寸为P×Q的图像f'(x,y)。用（-1）^（x+y）乘f'(x,y)将其移到变换中心。

- 计算该图像的DFT

- 计算滤波器函数H(u,v)，大小与f'(x,y)相同

- 计算G(iu,v)=F(u,v)H(u,v)得到滤波后图像的频谱

- 使用傅里叶反变换得到滤波后图像g(x,y)

巴特沃斯低通滤波器的函数为

![img](https://img-blog.csdn.net/20131208120015265)

![img](https://img-blog.csdn.net/20131208121123250)

其中D0为直径，n为阶数。

高斯滤波器的函数为

![img](https://img-blog.csdn.net/20131208123519812)

D0含义同上

功率谱比值

遍历F(u,v)和G(u,v)计算每一个点处的复数的摸的平方，并求和。用G(u,v)的计算结果除以F(u,v)的计算结果即为功率谱比。

实现傅里叶变换和傅里叶反变换用matlab中的fft2和ifft2

#### 结果

![](t1test1btL N=1 D=1.jpg)

![](t1test1btL N=1 D=5.jpg)

![](t1test1btL N=1 D=10.jpg)

![](t1test1btL N=1 D=100.jpg)

![](t1test1btL N=5 D=1.jpg)

![](t1test1btL N=5 D=5.jpg)

![](t1test1btL N=5 D=10.jpg)

![](t1test1btL N=5 D=100.jpg)

![](t1test1gsL D=1.jpg)

![](t1test1gsL D=5.jpg)

![](t1test1gsL D=10.jpg)

![](t1test1gsL D=100.jpg)

![](t1test2btL N=1 D=1.jpg)

![](t1test2btL N=1 D=5.jpg)

![](t1test2btL N=1 D=10.jpg)

![](t1test2btL N=1 D=100.jpg)

![](t1test2btL N=5 D=1.jpg)

![](t1test2btL N=5 D=5.jpg)

![](t1test2btL N=5 D=10.jpg)

![](t1test2btL N=5 D=100.jpg)

![](t1test2gsL D=1.jpg)

![t1test2gsL D=5](t1test2gsL D=5.jpg)

![t1test2gsL D=10](t1test2gsL D=10.jpg)

![t1test2gsL D=100](t1test2gsL D=100.jpg)

#### 分析

1. 综合这几幅图片看，总结出低通滤波器的效果是使图像更平滑，更模糊，综合频谱看，低通滤波器保留了中心的成分，丢失了靠近外围的成分。
2. 对于巴特沃斯低通滤波器，随着D增大，滤波器保留的成分越多，在频谱图上表现为中央亮点更多，在功率谱比上表现为数值增大，在图像上表现为由模糊到清晰。随着N增大，在频谱图上表现为中央亮点更密集，在功率谱比上表现为数值增大，在图像上表现为振铃现象。
3. 对于高斯低通滤波器，随着D增大，滤波器保留的成分越多，在频谱图上表现为中央亮点更多，在功率谱比上表现为数值增大，在图像上表现为由模糊到清晰。
4. 优缺点对比：两个滤波器都能够完成滤波任务，但是由于巴特沃斯滤波器的频域函数特性，巴特沃斯滤波器在阶数较高时出现振铃现象，但是高斯滤波器相对而言边缘更平滑，不容易出现振铃现象。但是从程序运行时的感受，高斯滤波器耗费时间长于巴特沃斯滤波器。

### 第二题

#### 题目重述

频域高通滤波器：设计高通滤波器包括butterworth and Gaussian，在频域增强边缘。选择半径和计算功率谱比，测试图像test3,4：分析各自优缺点；

#### 思路

频域滤波的步骤第一题中已有叙述，此处不再赘述。

本问题需要使用高通滤波器，反映到程序上就是滤波器的频域表达式不同。

巴特沃斯高通滤波器![img](https://img-blog.csdn.net/20170129142350072)

高斯高通滤波器=1-高斯低通滤波器

编程方法与第一题相同。

#### 结果

![](t2test3btH N=1 D=1.jpg)

![t2test3btH N=1 D=5](t2test3btH N=1 D=5.jpg)

![t2test3btH N=1 D=10](t2test3btH N=1 D=10.jpg)

![t2test3btH N=1 D=100](t2test3btH N=1 D=100.jpg)

![t2test3btH N=5 D=1](t2test3btH N=5 D=1.jpg)

![t2test3btH N=5 D=5](t2test3btH N=5 D=5.jpg)

![t2test3btH N=5 D=10](t2test3btH N=5 D=10.jpg)

![t2test3btH N=5 D=100](t2test3btH N=5 D=100.jpg)

![t2test3gsH D=1](t2test3gsH D=1.jpg)

![t2test3gsH D=5](t2test3gsH D=5.jpg)

![t2test3gsH D=10](t2test3gsH D=10.jpg)

![t2test3gsH D=100](t2test3gsH D=100.jpg)

![t2test4btH N=1 D=1](t2test4btH N=1 D=1.jpg)

![t2test4btH N=1 D=5](t2test4btH N=1 D=5.jpg)

![t2test4btH N=1 D=10](t2test4btH N=1 D=10.jpg)

![t2test4btH N=1 D=100](t2test4btH N=1 D=100.jpg)

![t2test4btH N=5 D=1](t2test4btH N=5 D=1.jpg)

![t2test4btH N=5 D=5](t2test4btH N=5 D=5.jpg)

![t2test4btH N=5 D=10](t2test4btH N=5 D=10.jpg)

![t2test4btH N=5 D=100](t2test4btH N=5 D=100.jpg)

![t2test4gsH D=1](t2test4gsH D=1.jpg)

![t2test4gsH D=5](t2test4gsH D=5.jpg)

![t2test4gsH D=10](t2test4gsH D=10.jpg)

![t2test4gsH D=100](t2test4gsH D=100.jpg)

#### 分析

1. 综合这几幅图片看，总结出高通滤波器的效果是锐化图像，使边缘更明显，综合频谱看，高通滤波器弱化了中心的成分，整个频谱上基本都有亮点分布。
2. 对于巴特沃斯高通滤波器，随着D增大，在频谱图上表现为亮点越发平均分布在整个频谱，在功率谱比上表现为数值减小，在图像上表现为细节清晰，亮度变暗。随着N增大，在频谱图上表现为亮点更加平均分布在整个频谱，在功率谱比上表现为数值增大，在图像上表现为振铃现象。
3. 对于高斯高通滤波器，随着D增大，滤波器保留的低频成分越少，在频谱图上表现为亮点越发平均分布在整个频谱，在功率谱比上表现为数值减小，在图像上表现为细节清晰，亮度变暗。
4. 优缺点对比：两个滤波器都能够完成滤波任务，但是由于巴特沃斯滤波器的频域函数特性，巴特沃斯滤波器在阶数较高时出现振铃现象，但是高斯滤波器相对而言边缘更平滑，不容易出现振铃现象。但是从程序运行时的感受，高斯滤波器耗费时间长于巴特沃斯滤波器。

### 第三题

#### 题目重述

其他高通滤波器：拉普拉斯和Unmask，对测试图像test3,4滤波；分析各自优缺点；

#### 思路

滤波器使用步骤同上，不再赘述。

本问滤波器与上述问题不同，细节参看教材。

#### 结果

![](t3test3lpH c=1e-05.jpg)

![t3test3unmask D=25 k1=1 k2=1](t3test3unmask D=25 k1=1 k2=1.jpg)

![t3test4lpH c=1](t3test4lpH c=1e-05.jpg)

![t3test4unmask D=25 k1=1 k2=1](t3test4unmask D=25 k1=1 k2=1.jpg)

#### 分析

1. 拉普拉斯和钝化都单纯的高通滤波器基础上进行改进，适当调整低频成分和高频成分的比例有利于在保留原有亮度同时使得细节更好。在空域图像和频谱上，两种方法都与原先相差不大，但是细节得到了强化。
2. 两种方法相比，钝化滤波的效果稍好一点。

#### 总结

空域滤波的基础是卷积和相关运算，频率滤波的基础是频域的乘法运算。通过傅里叶变换的规律可知，空域的两函数卷积等于频域两函数相乘。频域滤波器函数就是空域滤波器模板的傅里叶变换，二者关系密切。空域的平滑对应频域的低通滤波器，空域的锐化对应频域的高通滤波器。空域和频域的各种算子也一一对应。空域计算简单，有利于硬件实现，从局部计算，频域较为复杂，但是计算频谱时用到了每一个点的亮度，因此整体性更好，也使得空域滤波的原理更直观的呈现。

